/*! For license information please see plugin.system.js.LICENSE.txt */
System.register(["react","@contentstack/venus-components"],(function(e){var t,r;return{setters:[function(e){t=e},function(e){r=e}],execute:function(){e(function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=5)}([function(e,r){e.exports=t},function(e,t){e.exports=r},function(e,t,r){e.exports=function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=4)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getReferences=t.includeReference=t.includeSchema=t.includeContentType=t.includeOwner=t.environment=t.language=t.addQuery=t.addParam=t._type=t.mergeDeep=t.merge=t.transform=void 0,t.transform=function(e){return function(){switch(this._query[e]=this._query[e]||{},arguments.length){case 1:if(Array.isArray(arguments[0])||"string"==typeof arguments[0])return t=(t=this._query[e].BASE||[]).concat(arguments[0]),this._query[e].BASE=t,this;throw Error("Kindly provide valid parameters");case 2:var t;if("string"==typeof arguments[0]&&(Array.isArray(arguments[1])||"string"==typeof arguments[1]))return t=(t=this._query[e][arguments[0]]||[]).concat(arguments[1]),this._query[e][arguments[0]]=t,this;throw Error("Kindly provide valid parameters");default:throw Error("Kindly provide valid parameters")}}},t.merge=function(e,t){var r=e;return e&&t&&Object.keys(t).forEach((function(e){r[e]=t[e]})),r},t.mergeDeep=function(e,t){var r=e,n=this,o=function(e,t){var r=e;Object.keys(t).forEach((function(e){"object"===n._type(t[e])&&n._type(r[e])===n._type(t[e])?o(r[e],t[e]):"array"===n._type(t[e])&&n._type(r[e])===n._type(t[e])?r[e]=r[e].concat(t[e]):r[e]=t[e]}))};return o(r,t),r},t._type=function(e){var t=typeof e;return"object"===t&&Array.isArray(e)&&(t="array"),t},t.addParam=function(e,t){if(e&&"string"==typeof e&&t&&"string"==typeof t)return this._query[e]=t,this;throw Error("Kindly provide valid parameters.")},t.addQuery=function(e,t){if(e&&t&&"string"==typeof e)return this._query[e]=t,this;throw Error("First argument should be a String.")},t.language=function(e){if(e&&"string"==typeof e)return this._query.locale=e,this;throw Error("Argument should be a String.")},t.environment=function(e){if(e&&"string"==typeof e)return this._query.environment=e,this;throw Error("Argument should be a String.")},t.includeOwner=function(){return this._query.include_owner=!0,this},t.includeContentType=function(){return this._query.include_content_type=!0,this},t.includeSchema=function(){return this._query.include_schema=!0,this},t.includeReference=function(e){if(Array.isArray(e))for(var t=0;t<e.length;t+=1)this._query["include[]"]=this._query["include[]"]||[],this._query["include[]"]=this._query["include[]"].concat(e[t]);else{if("string"!=typeof e)throw Error("Argument should be a String or an Array.");for(t=0;t<arguments.length;t+=1)this._query["include[]"]=this._query["include[]"]||[],this._query["include[]"]=this._query["include[]"].concat(arguments[t])}return this},t.getReferences=function(){return this.fetch("get"+this.constructor.module()+"References")}},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(r(10)),i=r(0);function a(e){return"string"==typeof e.data?Promise.reject(e.data):Promise.resolve(e.data)}function s(e){return Promise.reject(e)}var c=function(){function e(e){if(!e)throw new Error("uid is required");this.uid=e,this._query={},this.only=i.transform("only"),this.except=i.transform("except"),this.addParam=i.addParam}return e.Query=function(){return new o.default(this.connection,this.module(!0),this.contentTypeUid)},e.create=function(e){var t={payload:e,content_type_uid:this.contentTypeUid,action:"create"+this.module()};return this.connection.sendToParent("stackQuery",t).then(a).catch(s)},e.prototype.update=function(e){return!e||"object"!=typeof e||e instanceof Array?Promise.reject(new Error("Kindly provide valid parameters")):this.fetch("update"+this.constructor.module(),e)},e.prototype.delete=function(){return this.fetch("delete"+this.constructor.module())},e.prototype.fetch=function(e,t){var r={payload:t,content_type_uid:this.constructor.contentTypeUid,uid:this.uid,params:this._query,action:e||"get"+this.constructor.module()};return t||delete r.payload,this.constructor.contentTypeUid||delete r.content_type_uid,this.constructor.connection.sendToParent("stackQuery",r).then(a).catch(s)},e}();t.default=c},function(e,t,r){e.exports=r(6),e.exports.default=e.exports},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=["file","reference","blocks","group","global_field"],o=function(){function e(e,t,r){this.uid=e.data.uid,this.data_type=e.data.schema.data_type,this.schema=e.data.schema,this._emitter=r;var n,o,i,a,s=(n=this,i=o=e.data.value,a=o,"file"===n.data_type&&(o?(i=o,a=!0===n.schema.multiple?o.map((function(e){return e.uid})):o.uid):!0===n.schema.multiple&&(i=[],a=[])),{resolvedData:i,unResolvedData:a});this._data=s.unResolvedData,this._resolvedData=s.resolvedData,this._connection=t,this._self=e.data.self||!1;var c=this;r.on("updateFields",(function(e){var t=c.uid.split("."),r=e.data;t.forEach((function(e){r&&(r=r[e])})),c._data!==r&&(c._data=r)}))}return e.prototype.setData=function(e){var t=this,r=this,o={data:e,uid:r.uid,self:r._self};return r._self||-1===n.indexOf(r.data_type)&&r.data_type?this._connection.sendToParent("setData",o).then((function(){return t._data=e,Promise.resolve(r)})).catch((function(e){return Promise.reject(e)})):Promise.reject(new Error("Cannot call set data for current field type"))},e.prototype.getData=function(e){var t=(void 0===e?{}:e).resolved;return void 0!==t&&t?this._resolvedData:this._data},e.prototype.setFocus=function(){return this._connection.sendToParent("focus")},e.prototype.onChange=function(e){var t=this;if(!e||"function"!=typeof e)throw Error("Callback must be a function");this._emitter.on("extensionFieldChange",(function(r){t._data=r.data,t._resolvedData=r.data,e(r.data)}))},e}();t.default=o},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(r(5)),i=n(r(2)),a=r(17);i.default.CONFIG.LOG_LEVEL="error";var s=function(){function e(){}return e.init=function(){var e=this;return this._extension?Promise.resolve(this._extension):o.default.initialize(a.version).then((function(t){return e._extension=new o.default(t),Promise.resolve(e._extension)})).catch((function(e){return Promise.reject(e)}))},Object.defineProperty(e,"SDK_VERSION",{get:function(){return a.version},enumerable:!1,configurable:!0}),e}();t.default=s,e.exports=s},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=a(r(2)),c=a(r(3)),u=a(r(7)),f=a(r(8)),d=a(r(13)),l=a(r(14)),h=new(a(r(15)).default),p=function(){function e(e){var t=this;this.getConfig=function(){t.postRobot.sendToParent("get-config")};var n=e;switch(this.postRobot=s.default,this.app_id=n.data.app_id,this.currentUser=n.data.user,this.location=n.data.type,this.store=new l.default(s.default),this.stack=new f.default(n.data.stack,s.default),this.Extension={DashboardWidget:null,CustomField:null,SidebarWidget:null,RTEPlugin:null,StackConfigWidget:null,AppConfigWidget:null,FullscreenAppWidget:null},n.data.type){case"DASHBOARD_WIDGET":this.Extension.DashboardWidget={frame:new u.default(s.default,this.location,h,n.data.dashboard_width),stack:new f.default(n.data.stack,s.default)};break;case"SIDEBAR_WIDGET":this.Extension.SidebarWidget={entry:new d.default(n,s.default,h),stack:new f.default(n.data.stack,s.default)};break;case"CUSTOM_FIELD_WIDGET":this.Extension.CustomField={field:new c.default(n,s.default,h),fieldConfig:n.data.field_config,entry:new d.default(n,s.default,h),stack:new f.default(n.data.stack,s.default),frame:new u.default(s.default,this.location,h)};break;case"STACK_CONFIG_WIDGET":this.Extension.StackConfigWidget={setConfig:function(e){t.postRobot.sendToParent("set-config",e)}};break;case"APP_CONFIG_WIDGET":case"FULL_SCREEN_WIDGET":break;case"RTE_EXTENSION_WIDGET":default:Promise.resolve().then((function(){return i(r(16))})).then((function(e){var r=e.rtePluginInitializer;t.Extension.RTEPlugin=r}))}s.default.on("extensionEvent",(function(e){"entrySave"===e.data.name&&(h.emitEvent("entrySave",[{data:e.data.data}]),h.emitEvent("updateFields",[{data:e.data.data}])),"entryChange"===e.data.name&&h.emitEvent("entryChange",[{data:e.data.data}]),"entryPublish"===e.data.name&&h.emitEvent("entryPublish",[{data:e.data.data}]),"entryUnPublish"===e.data.name&&h.emitEvent("entryUnPublish",[{data:e.data.data}]),"dashboardResize"===e.data.name&&h.emitEvent("dashboardResize",[{state:e.data.state}]),"extensionFieldChange"===e.data.name&&h.emitEvent("extensionFieldChange",[{data:e.data.data}])}))}return e.initialize=function(e){return s.default.sendToParent("init",{version:e})},e.prototype.setReady=function(){return this.postRobot.sendToParent("ready")},e}();t.default=p},function(e,t,r){"undefined"!=typeof self&&self,e.exports=function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s="./src/index.js")}({"./node_modules/cross-domain-utils/src/index.js":function(e,t,r){"use strict";var n=r("./node_modules/cross-domain-utils/src/utils.js");r.d(t,"getActualDomain",(function(){return n.a})),r.d(t,"getAncestor",(function(){return n.b})),r.d(t,"getDomain",(function(){return n.c})),r.d(t,"getUserAgent",(function(){return n.d})),r.d(t,"isActuallySameDomain",(function(){return n.e})),r.d(t,"isAncestor",(function(){return n.f})),r.d(t,"isIframe",(function(){return n.g})),r.d(t,"isPopup",(function(){return n.h})),r.d(t,"isWindow",(function(){return n.i})),r.d(t,"isWindowClosed",(function(){return n.j})),r.d(t,"matchDomain",(function(){return n.k})),r.d(t,"stringifyDomainPattern",(function(){return n.l}));var o=r("./node_modules/cross-domain-utils/src/types.js");r.n(o)},"./node_modules/cross-domain-utils/src/types.js":function(e,t){},"./node_modules/cross-domain-utils/src/utils.js":function(e,t,r){"use strict";function n(e){return"[object RegExp]"===Object.prototype.toString.call(e)}t.a=f,t.c=d,t.e=l,t.j=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];try{if(e===window)return!1}catch(e){return!0}try{if(!e)return!0}catch(e){return!0}try{if(e.closed)return!0}catch(e){return!e||e.message!==i}if(t&&function(e){if(!l(e))return!1;try{if(e===window)return!0;if(a(e)&&u(e))return!0;if(d(window)===d(e))return!0}catch(e){}return!1}(e))try{if(e.mockclosed)return!0}catch(e){}try{if(!e.parent||!e.top)return!0}catch(e){}var r=function(e,t){for(var r=0;r<e.length;r++)try{if(e[r]===t)return r}catch(e){}return-1}(y,e);if(-1!==r){var n=m[r];if(n&&function(e){if(!e.contentWindow)return!0;if(!e.parentNode)return!0;var t=e.ownerDocument;return!(!t||!t.body||t.body.contains(e))}(n))return!0}return!1},t.d=function(e){return(e=e||window).navigator.mockUserAgent||e.navigator.userAgent},t.b=v,t.f=function(e,t){var r=v(t);if(r)return r===e;if(t===e)return!1;if(function(e){if(e){try{if(e.top)return e.top}catch(e){}if(s(e)===e)return e;try{if(h(window,e)&&window.top)return window.top}catch(e){}try{if(h(e,window)&&window.top)return window.top}catch(e){}for(var t=0,r=function e(t){for(var r=[],n=0,o=p(t),i=null==o?0:o.length;n<i;n++){var a=o[n];r.push(a);for(var s=0,c=e(a),u=null==c?0:c.length;s<u;s++){var f=c[s];r.push(f)}}return r}(e),n=null==r?0:r.length;t<n;t++){var o=r[t];try{if(o.top)return o.top}catch(e){}if(s(o)===o)return o}}}(t)===t)return!1;for(var n=0,o=p(e),i=null==o?0:o.length;n<i;n++)if(o[n]===t)return!0;return!1},t.h=function(){return Boolean(c(window))},t.g=function(){return Boolean(s(window))},t.k=function e(t,r){if("string"==typeof t){if("string"==typeof r)return t===o.WILDCARD||r===t;if(n(r))return!1;if(Array.isArray(r))return!1}return n(t)?n(r)?t.toString()===r.toString():!Array.isArray(r)&&Boolean(r.match(t)):!!Array.isArray(t)&&(Array.isArray(r)?JSON.stringify(t)===JSON.stringify(r):!n(r)&&t.some((function(t){return e(t,r)})))},t.l=function(e){return Array.isArray(e)?"("+e.join(" | ")+")":n(e)?"RegExp("+e.toString():e.toString()},t.i=function(e){try{if(e===window)return!0}catch(e){if(e&&e.message===i)return!0}try{if("[object Window]"===Object.prototype.toString.call(e))return!0}catch(e){if(e&&e.message===i)return!0}try{if(window.Window&&e instanceof window.Window)return!0}catch(e){if(e&&e.message===i)return!0}try{if(e&&e.self===e)return!0}catch(e){if(e&&e.message===i)return!0}try{if(e&&e.parent===e)return!0}catch(e){if(e&&e.message===i)return!0}try{if(e&&e.top===e)return!0}catch(e){if(e&&e.message===i)return!0}try{e&&e.__cross_domain_utils_window_check__}catch(e){return!0}return!1};var o={MOCK_PROTOCOL:"mock:",FILE_PROTOCOL:"file:",ABOUT_PROTOCOL:"about:",WILDCARD:"*"},i="Call was rejected by callee.\r\n";function a(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:window).location.protocol===o.ABOUT_PROTOCOL}function s(e){if(e)try{if(e.parent&&e.parent!==e)return e.parent}catch(e){}}function c(e){if(e&&!s(e))try{return e.opener}catch(e){}}function u(e){try{return e&&e.location&&e.location.href,!0}catch(e){}return!1}function f(e){var t=(e=e||window).location;if(!t)throw new Error("Can not read window location");var r=t.protocol;if(!r)throw new Error("Can not read window protocol");if(r===o.FILE_PROTOCOL)return o.FILE_PROTOCOL+"//";if(r===o.ABOUT_PROTOCOL){var n=s(e);return n&&u(n)?f(n):o.ABOUT_PROTOCOL+"//"}var i=t.host;if(!i)throw new Error("Can not read window host");return r+"//"+i}function d(e){var t=f(e=e||window);return t&&e.mockDomain&&0===e.mockDomain.indexOf(o.MOCK_PROTOCOL)?e.mockDomain:t}function l(e){try{if(e===window)return!0}catch(e){}try{var t=Object.getOwnPropertyDescriptor(e,"location");if(t&&!1===t.enumerable)return!1}catch(e){}try{if(a(e)&&u(e))return!0}catch(e){}try{if(f(e)===f(window))return!0}catch(e){}return!1}function h(e,t){if(!e||!t)return!1;var r=s(t);return r?r===e:-1!==function(e){var t=[];try{for(;e.parent!==e;)t.push(e.parent),e=e.parent}catch(e){}return t}(t).indexOf(e)}function p(e){var t=[],r=void 0;try{r=e.frames}catch(t){r=e}var n=void 0;try{n=r.length}catch(e){}if(0===n)return t;if(n){for(var o=0;o<n;o++){var i=void 0;try{i=r[o]}catch(e){continue}t.push(i)}return t}for(var a=0;a<100;a++){var s=void 0;try{s=r[a]}catch(e){return t}if(!s)return t;t.push(s)}return t}var y=[],m=[];function v(e){return c(e=e||window)||s(e)||void 0}},"./src/index.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r.d({},"WeakMap",(function(){return u}));var n={};r.d(n,"cleanUpWindow",(function(){return te})),r.d(n,"Promise",(function(){return E})),r.d(n,"bridge",(function(){return re})),r.d(n,"init",(function(){return ne})),r.d(n,"parent",(function(){return ee})),r.d(n,"send",(function(){return B})),r.d(n,"request",(function(){return z})),r.d(n,"sendToParent",(function(){return K})),r.d(n,"client",(function(){return Q})),r.d(n,"on",(function(){return J})),r.d(n,"listen",(function(){return Y})),r.d(n,"once",(function(){return Z})),r.d(n,"listener",(function(){return V})),r.d(n,"CONFIG",(function(){return l})),r.d(n,"CONSTANTS",(function(){return f})),r.d(n,"disable",(function(){return X}));var o=r("./node_modules/cross-domain-utils/src/index.js");function i(e,t){for(var r=0;r<e.length;r++)try{if(e[r]===t)return r}catch(e){}return-1}var a,s=Object.defineProperty,c=Date.now()%1e9,u=function(){function e(){if(function(t,r){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),c+=1,this.name="__weakmap_"+(1e9*Math.random()>>>0)+"__"+c,function(){if(!window.WeakMap)return!1;if(!window.Object.freeze)return!1;try{var e=new window.WeakMap,t={};return window.Object.freeze(t),e.set(t,"__testvalue__"),"__testvalue__"===e.get(t)}catch(e){return!1}}())try{this.weakmap=new window.WeakMap}catch(e){}this.keys=[],this.values=[]}return e.prototype._cleanupClosedWindows=function(){for(var e=this.weakmap,t=this.keys,r=0;r<t.length;r++){var n=t[r];if(Object(o.isWindow)(n)&&Object(o.isWindowClosed)(n)){if(e)try{e.delete(n)}catch(e){}t.splice(r,1),this.values.splice(r,1),r-=1}}},e.prototype.isSafeToReadWrite=function(e){if(Object(o.isWindow)(e))return!1;try{e&&e.self,e&&e[this.name]}catch(e){return!1}return!0},e.prototype.set=function(e,t){if(!e)throw new Error("WeakMap expected key");var r=this.weakmap;if(r)try{r.set(e,t)}catch(e){delete this.weakmap}if(this.isSafeToReadWrite(e)){var n=this.name,o=e[n];o&&o[0]===e?o[1]=t:s(e,n,{value:[e,t],writable:!0})}else{this._cleanupClosedWindows();var a=this.keys,c=this.values,u=i(a,e);-1===u?(a.push(e),c.push(t)):c[u]=t}},e.prototype.get=function(e){if(!e)throw new Error("WeakMap expected key");var t=this.weakmap;if(t)try{if(t.has(e))return t.get(e)}catch(e){delete this.weakmap}if(!this.isSafeToReadWrite(e)){this._cleanupClosedWindows();var r=i(this.keys,e);if(-1===r)return;return this.values[r]}var n=e[this.name];if(n&&n[0]===e)return n[1]},e.prototype.delete=function(e){if(!e)throw new Error("WeakMap expected key");var t=this.weakmap;if(t)try{t.delete(e)}catch(e){delete this.weakmap}if(this.isSafeToReadWrite(e)){var r=e[this.name];r&&r[0]===e&&(r[0]=r[1]=void 0)}else{this._cleanupClosedWindows();var n=this.keys,o=i(n,e);-1!==o&&(n.splice(o,1),this.values.splice(o,1))}},e.prototype.has=function(e){if(!e)throw new Error("WeakMap expected key");var t=this.weakmap;if(t)try{return t.has(e)}catch(e){delete this.weakmap}if(this.isSafeToReadWrite(e)){var r=e[this.name];return!(!r||r[0]!==e)}return this._cleanupClosedWindows(),-1!==i(this.keys,e)},e}(),f={POST_MESSAGE_TYPE:{REQUEST:"postrobot_message_request",RESPONSE:"postrobot_message_response",ACK:"postrobot_message_ack"},POST_MESSAGE_ACK:{SUCCESS:"success",ERROR:"error"},POST_MESSAGE_NAMES:{METHOD:"postrobot_method",HELLO:"postrobot_ready",OPEN_TUNNEL:"postrobot_open_tunnel"},WINDOW_TYPES:{FULLPAGE:"fullpage",POPUP:"popup",IFRAME:"iframe"},WINDOW_PROPS:{POSTROBOT:"__postRobot__"},SERIALIZATION_TYPES:{METHOD:"postrobot_method",ERROR:"postrobot_error",PROMISE:"postrobot_promise",ZALGO_PROMISE:"postrobot_zalgo_promise",REGEX:"regex"},SEND_STRATEGIES:{POST_MESSAGE:"postrobot_post_message",BRIDGE:"postrobot_bridge",GLOBAL:"postrobot_global"},MOCK_PROTOCOL:"mock:",FILE_PROTOCOL:"file:",BRIDGE_NAME_PREFIX:"__postrobot_bridge__",POSTROBOT_PROXY:"__postrobot_proxy__",WILDCARD:"*"},d={METHOD:"postrobot_method",HELLO:"postrobot_hello",OPEN_TUNNEL:"postrobot_open_tunnel"},l=(Object.keys(d).map((function(e){return d[e]})),{ALLOW_POSTMESSAGE_POPUP:!("__ALLOW_POSTMESSAGE_POPUP__"in window)||window.__ALLOW_POSTMESSAGE_POPUP__,BRIDGE_TIMEOUT:5e3,CHILD_WINDOW_TIMEOUT:5e3,ACK_TIMEOUT:-1!==window.navigator.userAgent.match(/MSIE/i)?2e3:1e3,RES_TIMEOUT:-1,ALLOWED_POST_MESSAGE_METHODS:(a={},a[f.SEND_STRATEGIES.POST_MESSAGE]=!0,a[f.SEND_STRATEGIES.BRIDGE]=!0,a[f.SEND_STRATEGIES.GLOBAL]=!0,a),ALLOW_SAME_ORIGIN:!1});0===window.location.href.indexOf(f.FILE_PROTOCOL)&&(l.ALLOW_POSTMESSAGE_POPUP=!0);var h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(t>=3)return"stringifyError stack overflow";try{if(!e)return"<unknown error: "+Object.prototype.toString.call(e)+">";if("string"==typeof e)return e;if(e instanceof Error){var r=e&&e.stack,n=e&&e.message;if(r&&n)return-1!==r.indexOf(n)?r:n+"\n"+r;if(r)return r;if(n)return n}return"function"==typeof e.toString?e.toString():Object.prototype.toString.call(e)}catch(e){return"Error while stringifying error: "+p(e,t+1)}}var y=function(e){if(!e)return e;var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}};function m(){}function v(){var e="0123456789abcdef";return"xxxxxxxxxx".replace(/./g,(function(){return e.charAt(Math.floor(Math.random()*e.length))}))}function _(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(r>=100)throw new Error("Self-referential object passed, or object contained too many layers");var n=void 0;if("object"!==(void 0===e?"undefined":h(e))||null===e||Array.isArray(e)){if(!Array.isArray(e))throw new TypeError("Invalid type: "+(void 0===e?"undefined":h(e)));n=[]}else n={};return function(e,t){Array.isArray(e)?function(e,t){for(var r=0;r<e.length;r++)t(e[r],r)}(e,t):"object"===(void 0===e?"undefined":h(e))&&null!==e&&function(e,t){for(var r in e)e.hasOwnProperty(r)&&t(e[r],r)}(e,t)}(e,(function(e,o){var i=t(e,o);void 0!==i?n[o]=i:"object"===(void 0===e?"undefined":h(e))&&null!==e?n[o]=_(e,t,r+1):n[o]=e})),n}function w(e){return"[object RegExp]"===Object.prototype.toString.call(e)}function g(e){try{if(!e)return!1;if("undefined"!=typeof Promise&&e instanceof Promise)return!0;if("undefined"!=typeof window&&window.Window&&e instanceof window.Window)return!1;if("undefined"!=typeof window&&window.constructor&&e instanceof window.constructor)return!1;var t={}.toString;if(t){var r=t.call(e);if("[object Window]"===r||"[object global]"===r||"[object DOMWindow]"===r)return!1}if("function"==typeof e.then)return!0}catch(e){return!1}return!1}function b(){var e=void 0;if("undefined"!=typeof window)e=window;else{if("undefined"==typeof window)throw new TypeError("Can not find global");e=window}var t=e.__zalgopromise__=e.__zalgopromise__||{};return t.flushPromises=t.flushPromises||[],t.activeCount=t.activeCount||0,t.possiblyUnhandledPromiseHandlers=t.possiblyUnhandledPromiseHandlers||[],t.dispatchedErrors=t.dispatchedErrors||[],t}var E=function(){function e(t){var r=this;if(function(t,r){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this.resolved=!1,this.rejected=!1,this.errorHandled=!1,this.handlers=[],t){var n=void 0,o=void 0,i=!1,a=!1,s=!1;try{t((function(e){s?r.resolve(e):(i=!0,n=e)}),(function(e){s?r.reject(e):(a=!0,o=e)}))}catch(e){return void this.reject(e)}s=!0,i?this.resolve(n):a&&this.reject(o)}}return e.prototype.resolve=function(e){if(this.resolved||this.rejected)return this;if(g(e))throw new Error("Can not resolve promise with another promise");return this.resolved=!0,this.value=e,this.dispatch(),this},e.prototype.reject=function(e){var t=this;if(this.resolved||this.rejected)return this;if(g(e))throw new Error("Can not reject promise with another promise");if(!e){var r=e&&"function"==typeof e.toString?e.toString():Object.prototype.toString.call(e);e=new Error("Expected reject to be called with Error, got "+r)}return this.rejected=!0,this.error=e,this.errorHandled||setTimeout((function(){t.errorHandled||function(e,t){if(-1===b().dispatchedErrors.indexOf(e)){b().dispatchedErrors.push(e),setTimeout((function(){throw e}),1);for(var r=0;r<b().possiblyUnhandledPromiseHandlers.length;r++)b().possiblyUnhandledPromiseHandlers[r](e,t)}}(e,t)}),1),this.dispatch(),this},e.prototype.asyncReject=function(e){this.errorHandled=!0,this.reject(e)},e.prototype.dispatch=function(){var t=this,r=this.dispatching,n=this.resolved,o=this.rejected,i=this.handlers;if(!r&&(n||o)){this.dispatching=!0,b().activeCount+=1;for(var a=function(r){var a=i[r],s=a.onSuccess,c=a.onError,u=a.promise,f=void 0;if(n)try{f=s?s(t.value):t.value}catch(e){return u.reject(e),"continue"}else if(o){if(!c)return u.reject(t.error),"continue";try{f=c(t.error)}catch(e){return u.reject(e),"continue"}}f instanceof e&&(f.resolved||f.rejected)?(f.resolved?u.resolve(f.value):u.reject(f.error),f.errorHandled=!0):g(f)?f instanceof e&&(f.resolved||f.rejected)?f.resolved?u.resolve(f.value):u.reject(f.error):f.then((function(e){u.resolve(e)}),(function(e){u.reject(e)})):u.resolve(f)},s=0;s<i.length;s++)a(s);i.length=0,this.dispatching=!1,b().activeCount-=1,0===b().activeCount&&e.flushQueue()}},e.prototype.then=function(t,r){if(t&&"function"!=typeof t&&!t.call)throw new Error("Promise.then expected a function for success handler");if(r&&"function"!=typeof r&&!r.call)throw new Error("Promise.then expected a function for error handler");var n=new e;return this.handlers.push({promise:n,onSuccess:t,onError:r}),this.errorHandled=!0,this.dispatch(),n},e.prototype.catch=function(e){return this.then(void 0,e)},e.prototype.finally=function(t){if(t&&"function"!=typeof t&&!t.call)throw new Error("Promise.finally expected a function");return this.then((function(r){return e.try(t).then((function(){return r}))}),(function(r){return e.try(t).then((function(){throw r}))}))},e.prototype.timeout=function(e,t){var r=this;if(this.resolved||this.rejected)return this;var n=setTimeout((function(){r.resolved||r.rejected||r.reject(t||new Error("Promise timed out after "+e+"ms"))}),e);return this.then((function(e){return clearTimeout(n),e}))},e.prototype.toPromise=function(){if("undefined"==typeof Promise)throw new TypeError("Could not find Promise");return Promise.resolve(this)},e.resolve=function(t){return t instanceof e?t:g(t)?new e((function(e,r){return t.then(e,r)})):(new e).resolve(t)},e.reject=function(t){return(new e).reject(t)},e.all=function(t){var r=new e,n=t.length,o=[];if(!n)return r.resolve(o),r;for(var i=function(i){var a=t[i];if(a instanceof e){if(a.resolved)return o[i]=a.value,n-=1,"continue"}else if(!g(a))return o[i]=a,n-=1,"continue";e.resolve(a).then((function(e){o[i]=e,0==(n-=1)&&r.resolve(o)}),(function(e){r.reject(e)}))},a=0;a<t.length;a++)i(a);return 0===n&&r.resolve(o),r},e.hash=function(t){var r={};return e.all(Object.keys(t).map((function(n){return e.resolve(t[n]).then((function(e){r[n]=e}))}))).then((function(){return r}))},e.map=function(t,r){return e.all(t.map(r))},e.onPossiblyUnhandledException=function(e){return function(e){return b().possiblyUnhandledPromiseHandlers.push(e),{cancel:function(){b().possiblyUnhandledPromiseHandlers.splice(b().possiblyUnhandledPromiseHandlers.indexOf(e),1)}}}(e)},e.try=function(t,r,n){if(t&&"function"!=typeof t&&!t.call)throw new Error("Promise.try expected a function");var o=void 0;try{o=t.apply(r,n||[])}catch(t){return e.reject(t)}return e.resolve(o)},e.delay=function(t){return new e((function(e){setTimeout(e,t)}))},e.isPromise=function(t){return!!(t&&t instanceof e)||g(t)},e.flush=function(){var t=new e;return b().flushPromises.push(t),0===b().activeCount&&e.flushQueue(),t},e.flushQueue=function(){var e=b().flushPromises;b().flushPromises=[];for(var t=0,r=null==e?0:e.length;t<r;t++)e[t].resolve()},e}(),O=window[f.WINDOW_PROPS.POSTROBOT]=window[f.WINDOW_PROPS.POSTROBOT]||{};O.registerSelf=function(){};var S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};O.methods=O.methods||new u;var A=y((function(){O.on(f.POST_MESSAGE_NAMES.METHOD,{origin:f.WILDCARD},(function(e){var t=e.source,r=e.origin,n=e.data,i=O.methods.get(t);if(!i)throw new Error("Could not find any methods this window has privileges to call");var a=i[n.id];if(!a)throw new Error("Could not find method with id: "+n.id);if(!Object(o.matchDomain)(a.domain,r))throw new Error("Method domain "+a.domain+" does not match origin "+r);return E.try((function(){return a.method.apply({source:t,origin:r,data:n},n.args)})).then((function(e){return{result:e,id:n.id,name:n.name}}))}))}));function P(e,t){return"object"===(void 0===e?"undefined":S(e))&&null!==e&&e.__type__===t}function T(e,t,r,n){var o=v(),i=O.methods.get(e);return i||(i={},O.methods.set(e,i)),i[o]={domain:t,method:r},{__type__:f.SERIALIZATION_TYPES.METHOD,__id__:o,__name__:n}}function C(e,t,r){function n(){var n=Array.prototype.slice.call(arguments);return O.send(e,f.POST_MESSAGE_NAMES.METHOD,{id:r.__id__,name:r.__name__,args:n},{domain:t,timeout:-1}).then((function(e){return e.data.result}),(function(e){throw e}))}return n.__name__=r.__name__,n.__xdomain__=!0,n.source=e,n.origin=t,n}function j(e,t,r){return new E((function(n,o){return C(e,t,r.__then__)(n,o)}))}function k(e){return O.send(e,f.POST_MESSAGE_NAMES.HELLO,{},{domain:f.WILDCARD,timeout:-1}).then((function(e){return{origin:e.origin}}))}O.readyPromises=O.readyPromises||new u;var R={};R[f.SEND_STRATEGIES.POST_MESSAGE]=function(e,t,r){(Array.isArray(r)?r:"string"==typeof r?[r]:[f.WILDCARD]).map((function(t){if(0===t.indexOf(f.MOCK_PROTOCOL)){if(window.location.protocol===f.FILE_PROTOCOL)return f.WILDCARD;if(!Object(o.isActuallySameDomain)(e))throw new Error("Attempting to send messsage to mock domain "+t+", but window is actually cross-domain");return Object(o.getActualDomain)(e)}return 0===t.indexOf(f.FILE_PROTOCOL)?f.WILDCARD:t})).forEach((function(r){return e.postMessage(t,r)}))};var x,D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function M(e,t,r){return E.try((function(){var n;if(t=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=v(),i=Object(o.isPopup)()?f.WINDOW_TYPES.POPUP:Object(o.isIframe)()?f.WINDOW_TYPES.IFRAME:f.WINDOW_TYPES.FULLPAGE,a=Object(o.getDomain)(window);return D({},t,r,{sourceDomain:a,id:t.id||n,windowType:i})}(e,t,{data:function(e,r,n){return _({obj:t.data},(function(t,n){return"function"==typeof t?T(e,r,t,n.toString()):t instanceof Error?(o=t,{__type__:f.SERIALIZATION_TYPES.ERROR,__message__:p(o),__code__:o.code}):window.Promise&&t instanceof window.Promise?function(e,t,r,n){return{__type__:f.SERIALIZATION_TYPES.PROMISE,__then__:T(e,t,(function(e,t){return r.then(e,t)}),n+".then")}}(e,r,t,n.toString()):E.isPromise(t)?function(e,t,r,n){return{__type__:f.SERIALIZATION_TYPES.ZALGO_PROMISE,__then__:T(e,t,(function(e,t){return r.then(e,t)}),n+".then")}}(e,r,t,n.toString()):w(t)?(i=t,{__type__:f.SERIALIZATION_TYPES.REGEX,__source__:i.source}):void 0;var o,i})).obj}(e,r),domain:r}),e===window&&!l.ALLOW_SAME_ORIGIN)throw new Error("Attemping to send message to self");if(Object(o.isWindowClosed)(e))throw new Error("Window is closed");var i=[],a=function(e,t,r){var n=void 0,o=void 0;try{if("{}"!==JSON.stringify({})&&(n=Object.prototype.toJSON,delete Object.prototype.toJSON),"{}"!==JSON.stringify({}))throw new Error("Can not correctly serialize JSON objects");if("[]"!==JSON.stringify([])&&(o=Array.prototype.toJSON,delete Array.prototype.toJSON),"[]"!==JSON.stringify([]))throw new Error("Can not correctly serialize JSON objects")}catch(e){throw new Error("Can not repair JSON.stringify: "+e.message)}var i=JSON.stringify.call(this,e,null,2);try{n&&(Object.prototype.toJSON=n),o&&(Array.prototype.toJSON=o)}catch(e){throw new Error("Can not repair JSON.stringify: "+e.message)}return i}(((n={})[f.WINDOW_PROPS.POSTROBOT]=t,n));return E.map(Object.keys(R),(function(t){return E.try((function(){if(!l.ALLOWED_POST_MESSAGE_METHODS[t])throw new Error("Strategy disallowed: "+t);return R[t](e,a,r)})).then((function(){return i.push(t+": success"),!0}),(function(e){return i.push(t+": "+p(e)+"\n"),!1}))})).then((function(e){var r=e.some(Boolean),n=t.type+" "+t.name+" "+(r?"success":"error")+":\n  - "+i.join("\n  - ")+"\n";if(!r)throw new Error(n)}))}))}function L(e){return O.responseListeners[e]}function I(e){delete O.responseListeners[e]}function W(e){return Boolean(O.erroredResponseListeners[e])}function q(e){var t=e.name,r=e.win,n=e.domain;if(r===f.WILDCARD&&(r=null),n===f.WILDCARD&&(n=null),!t)throw new Error("Name required to get request listener");var i=O.requestListeners[t];if(i)for(var a=0,s=[r,O.WINDOW_WILDCARD],c=null==s?0:s.length;a<c;a++){var u=s[a],d=u&&i.get(u);if(d){if(n&&"string"==typeof n){if(d[n])return d[n];if(d.__domain_regex__)for(var l=0,h=d.__domain_regex__,p=null==h?0:h.length;l<p;l++){var y=h[l],m=y.regex,v=y.listener;if(Object(o.matchDomain)(m,n))return v}}if(d[f.WILDCARD])return d[f.WILDCARD]}}}O.responseListeners=O.responseListeners||{},O.requestListeners=O.requestListeners||{},O.WINDOW_WILDCARD=O.WINDOW_WILDCARD||new function(){},O.erroredResponseListeners=O.erroredResponseListeners||{};var N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},G=((x={})[f.POST_MESSAGE_TYPE.ACK]=function(e,t,r){if(!W(r.hash)){var n=L(r.hash);if(!n)throw new Error("No handler found for post message ack for message: "+r.name+" from "+t+" in "+window.location.protocol+"//"+window.location.host+window.location.pathname);if(!Object(o.matchDomain)(n.domain,t))throw new Error("Ack origin "+t+" does not match domain "+n.domain.toString());n.ack=!0}},x[f.POST_MESSAGE_TYPE.REQUEST]=function(e,t,r){var n=q({name:r.name,win:e,domain:t});function i(n){return r.fireAndForget||Object(o.isWindowClosed)(e)?E.resolve():M(e,N({target:r.originalSource,hash:r.hash,name:r.name},n),t)}return E.all([i({type:f.POST_MESSAGE_TYPE.ACK}),E.try((function(){if(!n)throw new Error("No handler found for post message: "+r.name+" from "+t+" in "+window.location.protocol+"//"+window.location.host+window.location.pathname);if(!Object(o.matchDomain)(n.domain,t))throw new Error("Request origin "+t+" does not match domain "+n.domain.toString());var i=r.data;return n.handler({source:e,origin:t,data:i})})).then((function(e){return i({type:f.POST_MESSAGE_TYPE.RESPONSE,ack:f.POST_MESSAGE_ACK.SUCCESS,data:e})}),(function(e){var t=p(e).replace(/^Error: /,""),r=e.code;return i({type:f.POST_MESSAGE_TYPE.RESPONSE,ack:f.POST_MESSAGE_ACK.ERROR,error:t,code:r})}))]).then(m).catch((function(e){if(n&&n.handleError)return n.handleError(e);throw e}))},x[f.POST_MESSAGE_TYPE.RESPONSE]=function(e,t,r){if(!W(r.hash)){var n=L(r.hash);if(!n)throw new Error("No handler found for post message response for message: "+r.name+" from "+t+" in "+window.location.protocol+"//"+window.location.host+window.location.pathname);if(!Object(o.matchDomain)(n.domain,t))throw new Error("Response origin "+t+" does not match domain "+Object(o.stringifyDomainPattern)(n.domain));if(I(r.hash),r.ack===f.POST_MESSAGE_ACK.ERROR){var i=new Error(r.error);return r.code&&(i.code=r.code),n.respond(i,null)}if(r.ack===f.POST_MESSAGE_ACK.SUCCESS){var a=r.data||r.response;return n.respond(null,{source:e,origin:t,data:a})}}},x),U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function F(e){if(!window||window.closed)throw new Error("Message recieved in closed window");try{if(!e.source)return}catch(e){return}var t=e.source,r=e.origin,n=function(e){var t,r=void 0;try{t=e,r=JSON.parse(t)}catch(e){return}if(r&&"object"===(void 0===r?"undefined":U(r))&&null!==r&&(r=r[f.WINDOW_PROPS.POSTROBOT])&&"object"===(void 0===r?"undefined":U(r))&&null!==r&&r.type&&"string"==typeof r.type&&G[r.type])return r}(e.data);if(n){if(!n.sourceDomain||"string"!=typeof n.sourceDomain)throw new Error("Expected message to have sourceDomain");0!==n.sourceDomain.indexOf(f.MOCK_PROTOCOL)&&0!==n.sourceDomain.indexOf(f.FILE_PROTOCOL)||(r=n.sourceDomain),-1===O.receivedMessages.indexOf(n.id)&&(O.receivedMessages.push(n.id),Object(o.isWindowClosed)(t)&&!n.fireAndForget||(n.data&&(n.data=function(e,t,r){return _({obj:n.data},(function(r){if("object"===(void 0===r?"undefined":S(r))&&null!==r)return P(r,f.SERIALIZATION_TYPES.METHOD)?C(e,t,r):P(r,f.SERIALIZATION_TYPES.ERROR)?function(e,t,r){var n=new Error(r.__message__);return r.__code__&&(n.code=r.__code__),n}(0,0,r):P(r,f.SERIALIZATION_TYPES.PROMISE)?function(e,t,r){return window.Promise?new window.Promise((function(n,o){return C(e,t,r.__then__)(n,o)})):j(e,t,r)}(e,t,r):P(r,f.SERIALIZATION_TYPES.ZALGO_PROMISE)?j(e,t,r):P(r,f.SERIALIZATION_TYPES.REGEX)?function(e,t,r){return new RegExp(r.__source__)}(0,0,r):void 0})).obj}(t,r)),G[n.type](t,r,n)))}}function H(e){try{e.source}catch(e){return}F({source:e.source||e.sourceElement,origin:e.origin||e.originalEvent&&e.originalEvent.origin,data:e.data})}function z(e){return E.try((function(){if(!e.name)throw new Error("Expected options.name");var t=e.name,r=void 0,n=void 0;if("string"==typeof e.window){var i=document.getElementById(e.window);if(!i)throw new Error("Expected options.window "+Object.prototype.toString.call(e.window)+" to be a valid element id");if("iframe"!==i.tagName.toLowerCase())throw new Error("Expected options.window "+Object.prototype.toString.call(e.window)+" to be an iframe");if(!i.contentWindow)throw new Error("Iframe must have contentWindow.  Make sure it has a src attribute and is in the DOM.");r=i.contentWindow}else if(e.window instanceof HTMLIFrameElement){if("iframe"!==e.window.tagName.toLowerCase())throw new Error("Expected options.window "+Object.prototype.toString.call(e.window)+" to be an iframe");if(e.window&&!e.window.contentWindow)throw new Error("Iframe must have contentWindow.  Make sure it has a src attribute and is in the DOM.");e.window&&e.window.contentWindow&&(r=e.window.contentWindow)}else r=e.window;if(!r)throw new Error("Expected options.window to be a window object, iframe, or iframe element id.");var a=r;n=e.domain||f.WILDCARD;var s=e.name+"_"+v();if(Object(o.isWindowClosed)(a))throw new Error("Target window is closed");var c=!1,u=O.requestPromises.get(a);u||(u=[],O.requestPromises.set(a,u));var d=E.try((function(){if(Object(o.isAncestor)(window,a))return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e3,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Window",n=O.readyPromises.get(e);return n||(n=new E,O.readyPromises.set(e,n),-1!==t&&setTimeout((function(){return n.reject(new Error(r+" did not load after "+t+"ms"))}),t),n)}(a,e.timeout||l.CHILD_WINDOW_TIMEOUT)})).then((function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).origin;if(w(n)&&!e)return k(a)})).then((function(){var r=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).origin;if(w(n)){if(!Object(o.matchDomain)(n,r))throw new Error("Remote window domain "+r+" does not match regex: "+n.toString());n=r}if("string"!=typeof n&&!Array.isArray(n))throw new TypeError("Expected domain to be a string or array");var i=n;return new E((function(r,n){var h=void 0;if(e.fireAndForget||function(e,t){O.responseListeners[e]=t}(s,h={name:t,window:a,domain:i,respond:function(e,t){e||(c=!0,u.splice(u.indexOf(d,1))),e?n(e):r(t)}}),M(a,{type:f.POST_MESSAGE_TYPE.REQUEST,hash:s,name:t,data:e.data,fireAndForget:e.fireAndForget},i).catch(n),e.fireAndForget)return r();var p=l.ACK_TIMEOUT,y=e.timeout||l.RES_TIMEOUT,m=100;setTimeout((function r(){if(!c){if(Object(o.isWindowClosed)(a))return h.ack?n(new Error("Window closed for "+t+" before response")):n(new Error("Window closed for "+t+" before ack"));if(p=Math.max(p-m,0),-1!==y&&(y=Math.max(y-m,0)),h.ack){if(-1===y)return;m=Math.min(y,2e3)}else{if(0===p)return n(new Error("No ack for postMessage "+t+" in "+Object(o.getDomain)()+" in "+l.ACK_TIMEOUT+"ms"));if(0===y)return n(new Error("No response for postMessage "+t+" in "+Object(o.getDomain)()+" in "+(e.timeout||l.RES_TIMEOUT)+"ms"))}setTimeout(r,m)}}),m)}))}));return d.catch((function(){!function(e){O.erroredResponseListeners[e]=!0}(s),I(s)})),u.push(d),d}))}function B(e,t,r,n){return(n=n||{}).window=e,n.name=t,n.data=r,z(n)}function K(e,t,r){var n=Object(o.getAncestor)();return n?B(n,e,t,r):new E((function(e,t){return t(new Error("Window does not have a parent"))}))}function Q(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!e.window)throw new Error("Expected options.window");var t=e.window;return{send:function(r,n){return B(t,r,n,e)}}}O.receivedMessages=O.receivedMessages||[],O.receiveMessage=F,O.requestPromises=O.requestPromises||new u,O.send=B;var $="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function Y(e){if(!e.name)throw new Error("Expected options.name");if(!e.handler)throw new Error("Expected options.handler");var t,r=e.name,n=e.window,i=e.domain,a={handler:e.handler,handleError:e.errorHandler||function(e){throw e},window:n,domain:i||f.WILDCARD,name:r},s=function e(t,r){var n=t.name,o=t.win,i=t.domain;if(!n||"string"!=typeof n)throw new Error("Name required to add request listener");if(Array.isArray(o)){for(var a=[],s=0,c=o,d=null==c?0:c.length;s<d;s++){var l=c[s];a.push(e({name:n,domain:i,win:l},r))}return{cancel:function(){for(var e=0,t=null==a?0:a.length;e<t;e++)a[e].cancel()}}}if(Array.isArray(i)){for(var h=[],p=0,y=i,m=null==y?0:y.length;p<m;p++){var v=y[p];h.push(e({name:n,win:o,domain:v},r))}return{cancel:function(){for(var e=0,t=null==h?0:h.length;e<t;e++)h[e].cancel()}}}var _=q({name:n,win:o,domain:i});if(o&&o!==f.WILDCARD||(o=O.WINDOW_WILDCARD),i=i||f.WILDCARD,_)throw o&&i?new Error("Request listener already exists for "+n+" on domain "+i.toString()+" for "+(o===O.WINDOW_WILDCARD?"wildcard":"specified")+" window"):o?new Error("Request listener already exists for "+n+" for "+(o===O.WINDOW_WILDCARD?"wildcard":"specified")+" window"):i?new Error("Request listener already exists for "+n+" on domain "+i.toString()):new Error("Request listener already exists for "+n);var g=O.requestListeners,b=g[n];b||(b=new u,g[n]=b);var E=b.get(o);E||(E={},b.set(o,E));var S=i.toString(),A=E.__domain_regex__,P=void 0;return w(i)?(A||(A=[],E.__domain_regex__=A),P={regex:i,listener:r},A.push(P)):E[S]=r,{cancel:function(){E&&(delete E[S],o&&0===Object.keys(E).length&&b.delete(o),P&&A.splice(A.indexOf(P,1)))}}}({name:r,win:n,domain:i},a);if(e.once){var c=a.handler;a.handler=y((function(){return s.cancel(),c.apply(this,arguments)}))}if(a.window&&e.errorOnClose)var d=(t=void 0,t=setTimeout((function e(){t=setTimeout(e,50),function(){n&&"object"===(void 0===n?"undefined":$(n))&&Object(o.isWindowClosed)(n)&&(d.cancel(),a.handleError(new Error("Post message target window is closed")))}.call()}),50),{cancel:function(){clearTimeout(t)}});return{cancel:function(){s.cancel()}}}function J(e,t,r){return"function"==typeof t&&(r=t,t={}),(t=t||{}).name=e,t.handler=r||t.handler,Y(t)}function Z(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments[2];"function"==typeof t&&(r=t,t={}),t=t||{},r=r||t.handler;var n=t.errorHandler,o=new E((function(o,i){(t=t||{}).name=e,t.once=!0,t.handler=function(e){if(o(e),r)return r(e)},t.errorHandler=function(e){if(i(e),n)return n(e)}})),i=Y(t);return o.cancel=i.cancel,o}function V(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{on:function(t,r){return J(t,e,r)}}}function X(){delete window[f.WINDOW_PROPS.POSTROBOT],window.removeEventListener("message",H)}O.on=J;var ee=Object(o.getAncestor)();function te(e){var t=O.requestPromises.get(e);if(t)for(var r=0,n=null==t?0:t.length;r<n;r++)t[r].reject(new Error("No response from window - cleaned up"));O.popupWindowsByWin&&O.popupWindowsByWin.delete(e),O.remoteWindows&&O.remoteWindows.delete(e),O.requestPromises.delete(e),O.methods.delete(e),O.readyPromises.delete(e)}var re=null;function ne(){var e,t;O.initialized||(t=H,(e=window).addEventListener?e.addEventListener("message",t):e.attachEvent("onmessage",t),function(){e=function(e){var t=e.source,r=e.origin,n=O.readyPromises.get(t)||new E;n.resolve({origin:r}),O.readyPromises.set(t,n)},O.on(f.POST_MESSAGE_NAMES.HELLO,{domain:f.WILDCARD},(function(t){var r=t.source,n=t.origin;return e({source:r,origin:n})}));var e,t=Object(o.getAncestor)();t&&k(t).catch(m)}(),A({on:J,send:B})),O.initialized=!0}ne(),r.d(t,"cleanUpWindow",(function(){return te})),r.d(t,"Promise",(function(){return E})),r.d(t,"bridge",(function(){return re})),r.d(t,"init",(function(){return ne})),r.d(t,"parent",(function(){return ee})),r.d(t,"send",(function(){return B})),r.d(t,"request",(function(){return z})),r.d(t,"sendToParent",(function(){return K})),r.d(t,"client",(function(){return Q})),r.d(t,"on",(function(){return J})),r.d(t,"listen",(function(){return Y})),r.d(t,"once",(function(){return Z})),r.d(t,"listener",(function(){return V})),r.d(t,"CONFIG",(function(){return l})),r.d(t,"CONSTANTS",(function(){return f})),r.d(t,"disable",(function(){return X})),t.default=n}})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o={attributes:!0,childList:!0,subtree:!0},i=function(){function e(e,t,r,n){void 0===n&&(n="half_width"),this._connection=e,this._autoResizingEnabled=!1,this._resizingEnabled=!1,this.type=t,this.state=n,this._emitter=r}return e.prototype.enableResizing=function(){return"DASHBOARD"!==this.type?Promise.resolve():(this._resizingEnabled=!0,this._connection.sendToParent("window",{action:"enableResizing"}))},e.prototype.onDashboardResize=function(e){var t=this;if("DASHBOARD"!==this.type)return!1;if(!e||"function"!=typeof e)throw Error("Callback must be a function");return t._emitter.on("dashboardResize",(function(r){t.state=r.state,e(r.state)})),!0},e.prototype.updateHeight=function(e){if("DASHBOARD"===this.type&&"half_width"===this.state)return Promise.resolve();if(!e||isNaN(e))this._height=Math.ceil(document.documentElement.getBoundingClientRect().height);else{if(this._height===e)return Promise.resolve();this._height=e}return this._connection.sendToParent("resize",this._height)},e.prototype.enableAutoResizing=function(){return this._autoResizingEnabled||"half_width"===this.state&&"DASHBOARD"===this.type||(this._autoResizingEnabled=!0,(n=new MutationObserver(this.updateHeight.bind(this))).observe(window.document.body,o)),this},e.prototype.disableAutoResizing=function(){return this._autoResizingEnabled?(this._autoResizingEnabled=!1,n.disconnect(),this):this},e}();t.default=i},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(r(9)),i=n(r(11));function a(e){return"string"==typeof e.data?Promise.reject(e.data):Promise.resolve(e.data)}function s(e){return Promise.reject(e)}var c=function(){function e(e,t){this._connection=t,this._data=e,this.ContentType=i.default(t),this.Asset=o.default(t)}return e.prototype.getData=function(){return this._data},e.prototype.getContentType=function(e,t){if(void 0===t&&(t={}),!e)return Promise.reject(new Error("uid is required"));var r={uid:e,params:t,action:"getContentType"};return this._connection.sendToParent("stackQuery",r).then(a).catch(s)},e.prototype.getContentTypes=function(e,t){void 0===e&&(e={}),void 0===t&&(t={});var r=t;r.query=e;var n={params:r,action:"getContentTypes"};return this._connection.sendToParent("stackQuery",n).then(a).catch(s)},e.prototype.getEnvironment=function(e,t){if(void 0===t&&(t={}),!e)return Promise.reject(new Error("name is required"));var r={name:e,params:t,action:"getEnvironment"};return this._connection.sendToParent("stackQuery",r).then(a).catch(s)},e.prototype.getEnvironments=function(e,t){void 0===e&&(e={}),void 0===t&&(t={});var r=t;r.query=e;var n={params:r,action:"getEnvironments"};return this._connection.sendToParent("stackQuery",n).then(a).catch(s)},e.prototype.getLocale=function(e,t){if(void 0===t&&(t={}),!e)return Promise.reject(new Error("code is required"));var r={code:e,params:t,action:"getLocale"};return this._connection.sendToParent("stackQuery",r).then(a).catch(s)},e.prototype.getLocales=function(e,t){void 0===e&&(e={}),void 0===t&&(t={});var r=t;r.query=e;var n={params:r,action:"getLocales"};return this._connection.sendToParent("stackQuery",n).then(a).catch(s)},e}();t.default=c},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=a(r(1)),c=r(0),u={};function f(e){return"string"==typeof e.data?Promise.reject(e.data):Promise.resolve(e.data)}function d(e){return Promise.reject(e)}var l=function(e){function t(t){var r=e.call(this,t)||this;return r.getReferences=c.getReferences,r.environment=c.environment,r}return o(t,e),t.Query=function(){var t=e.Query.call(this);return Object.assign(t,{language:c.language,environment:c.environment}),t},t.module=function(e){return void 0===e&&(e=!1),e?"Assets":"Asset"},Object.defineProperty(t,"connection",{get:function(){return u},enumerable:!1,configurable:!0}),t.getRteAssets=function(){return this.connection.sendToParent("stackQuery",{action:"getRteAssets"}).then(f).catch(d)},t.getAssetsOfSpecificTypes=function(e){return e&&"string"==typeof e?this.connection.sendToParent("stackQuery",{action:"getAssetsOfSpecificTypes",asset_type:e}).then(f).catch(d):Promise.reject(new Error("Kindly provide valid parameters"))},t.prototype.publish=function(e){return!e||"object"!=typeof e||e instanceof Array?Promise.reject(new Error("Kindly provide valid parameters")):this.fetch("publishAsset",e)},t.prototype.unpublish=function(e){return!e||"object"!=typeof e||e instanceof Array?Promise.reject(new Error("Kindly provide valid parameters")):this.fetch("unpublishAsset",e)},t}(s.default);t.default=function(e){return u=e,new Proxy(l,{apply:function(e,t,r){return new(e.bind.apply(e,i([void 0],r)))}})}},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});var a=i(r(0));function s(e){return"string"==typeof e.data?Promise.reject(e.data):Promise.resolve(e.data)}function c(e){return Promise.reject(e)}var u=function(e){return function(t,r){if(t&&r&&"string"==typeof t&&void 0!==r)return this._query.query[t]=this._query.query.file_size||{},this._query.query[t][e]=r,this;throw Error("Kindly provide valid parameters.")}},f=function(e){var t=e?"$in":"$nin";return function(e,r){if(e&&r&&"string"==typeof e&&Array.isArray(r))return this._query.query[e]=this._query.query[e]||{},this._query.query[e][t]=this._query.query[e][t]||[],this._query.query[e][t]=this._query.query[e][t].concat(r),this;throw Error("Kindly provide valid parameters.")}},d=function(e){return function(t){if(t&&"string"==typeof t)return this._query.query[t]=this._query.query[t]||{},this._query.query[t].$exists=e,this;throw Error("Kindly provide valid parameters.")}},l=function(e){return function(){for(var t=[],r=0,n=arguments.length;r<n;r+=1)arguments[r]instanceof y&&arguments[r]._query.query?t.push(arguments[r]._query.query):"object"==typeof arguments[r]&&t.push(arguments[r]);return this._query.query[e]?this._query.query[e]=this._query.query[e].concat(t):this._query.query[e]=t,this}},h=function(e){return function(t){if(t&&"string"==typeof t)return this._query[e]=t,this;throw Error("Argument should be a string.")}},p=function(e){return function(t){if("number"==typeof t)return this._query[e]=t,this;throw Error("Argument should be a number.")}},y=function(){function e(e,t,r){this.module=t,this._connection=e,this._query={},this._query.query=this._query.query||{},this.contentTypeUid=r,this.only=a.transform("only"),this.except=a.transform("except"),this.addQuery=a.addQuery,this.lessThan=u("$lt"),this.lessThanOrEqualTo=u("$lte"),this.greaterThan=u("$gt"),this.greaterThanOrEqualTo=u("$gte"),this.notEqualTo=u("$ne"),this.containedIn=f(!0),this.notContainedIn=f(!1),this.exists=d(!0),this.notExists=d(!1),this.ascending=h("asc"),this.descending=h("desc"),this.beforeUid=h("before_uid"),this.afterUid=h("after_uid"),this.skip=p("skip"),this.limit=p("limit"),this.or=l("$or"),this.and=l("$and"),this.addParam=a.addParam}return e.prototype.equalTo=function(e,t){if(e&&"string"==typeof e)return this._query.query[e]=t,this;throw Error("Kindly provide valid parameters.")},e.prototype.where=function(e,t){if(e&&"string"==typeof e)return this._query.query[e]=t,this;throw Error("Kindly provide valid parameters.")},e.prototype.count=function(){this._query.count=!0;var e={content_type_uid:this.contentTypeUid,params:this._query,action:"get"+this.module};return this._connection.sendToParent("stackQuery",e).then(s).catch(c)},e.prototype.query=function(e){if("object"==typeof e)return this._query.query=a.mergeDeep(this._query.query,e),this;throw Error("Kindly provide valid parameters")},e.prototype.tags=function(e){if(Array.isArray(e))return this._query.tags=e,this;throw Error("Kindly provide valid parameters")},e.prototype.includeCount=function(){return this._query.include_count=!0,this},e.prototype.getQuery=function(){return this._query.query},e.prototype.regex=function(e,t,r){if(e&&t&&"string"==typeof e&&"string"==typeof t)return this._query.query[e]={$regex:t},r&&(this._query.query[e].$options=r),this;throw Error("Kindly provide valid parameters.")},e.prototype.search=function(e){if(e&&"string"==typeof e)return this._query.typeahead=e,this;throw Error("Kindly provide valid parameters.")},e.prototype.find=function(){var e={content_type_uid:this.contentTypeUid,params:this._query,action:"get"+this.module};return this._connection.sendToParent("stackQuery",e).then(s).catch(c)},e.prototype.findOne=function(){this.singleEntry=!0,this._query.limit=1;var e={content_type_uid:this.contentTypeUid,params:this._query,action:"get"+this.module};return this._connection.sendToParent("stackQuery",e).then(s).catch(c)},e}();t.default=y},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=a(r(12)),c=a(r(1)),u={},f=function(e){function t(t){var r=e.call(this,t)||this;return r.Entry=s.default(r.constructor.connection,r.uid),r}return o(t,e),Object.defineProperty(t,"connection",{get:function(){return u},enumerable:!1,configurable:!0}),t}(c.default);t.default=function(e){return u=e,new Proxy(f,{apply:function(e,t,r){return new(e.bind.apply(e,i([void 0],r)))}})}},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=a(r(1)),c=r(0),u={},f="",d=function(e){function t(t){var r=e.call(this,t)||this;return r._query={},r}return o(t,e),t.Query=function(){var t=e.Query.call(this);return Object.assign(t,{language:c.language,environment:c.environment,includeOwner:c.includeOwner,includeContentType:c.includeContentType,includeSchema:c.includeSchema,includeReference:c.includeReference}),t},Object.defineProperty(t,"connection",{get:function(){return u},enumerable:!1,configurable:!0}),Object.defineProperty(t,"contentTypeUid",{get:function(){return f},enumerable:!1,configurable:!0}),t.module=function(e){return void 0===e&&(e=!1),e?"Entries":"Entry"},t.prototype.getLanguages=function(){return this.fetch("getEntryLanguages")},t.prototype.unlocalize=function(e){return e&&"string"==typeof e?(this._query.locale=e,this.fetch("unlocalizeEntry")):Promise.reject(new Error("Kindly provide valid parameters"))},t.prototype.publish=function(e){return!e||"object"!=typeof e||e instanceof Array?Promise.reject(new Error("Kindly provide valid parameters")):(this._query={},this.fetch("publishEntry",e))},t.prototype.unpublish=function(e){return!e||"object"!=typeof e||e instanceof Array?Promise.reject(new Error("Kindly provide valid parameters")):(this._query={},this.fetch("unpublishEntry",e))},t.prototype.setWorkflowStage=function(e){return!e||"object"!=typeof e||e instanceof Array?Promise.reject(new Error("Kindly provide valid parameters")):this.fetch("setWorkflowStageEntry",e)},t.prototype.update=function(e,t){return!e||"object"!=typeof e||e instanceof Array?Promise.reject(new Error("Kindly provide valid parameters")):(this._query.locale=t,this.fetch("updateEntry",e))},t}(s.default);t.default=function(e,t){return u=e,f=t,new Proxy(d,{apply:function(e,t,r){var n=new(e.bind.apply(e,i([void 0],r)));return Object.assign(n,{getReferences:c.getReferences,addQuery:c.addQuery,language:c.language,environment:c.environment,includeOwner:c.includeOwner,includeContentType:c.includeContentType,includeSchema:c.includeSchema,includeReference:c.includeReference}),n}})}},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(r(3)),i=function(){function e(e,t,r){this.content_type=e.data.content_type,this._data=e.data.entry,this.locale=e.data.locale,this._connection=t,this._emitter=r;var n=this;this._emitter.on("entrySave",(function(e){n._data=e.data})),this._emitter.on("entryChange",(function(e){n._changedData=e.data}))}return e.prototype.getData=function(){return this._data},e.prototype.getField=function(e){var t=e.split("."),r=this._data,n=this.content_type.schema;try{var i=!1,a=!1;t.forEach((function(e,o){if(i)a?a=!1:i=!1;else{if(!(n=n.find((function(t){return t.uid===e}))))throw Error("schema not found");if(r=r[e],"group"!==n.data_type&&"global_field"!==n.data_type||!1!==n.multiple||t.length===o+1)if("group"!==n.data_type&&"global_field"!==n.data_type||!0!==n.multiple||t.length===o+1){if("blocks"===n.data_type&&t.length!==o+1){var s=Object.keys(r[t[o+1]])[0];n=n.blocks.find((function(e){return e.uid===s})),t.length===o+2?r=r[t[o+1]]:(r=r[t[o+1]][s],n=n.schema),i=!0,a=!0}}else n=n.schema,r=r[t[o+1]],i=!0;else n=n.schema}}))}catch(e){throw Error("Invalid uid, Field not found")}var s={data:{uid:e,value:r,schema:n,data_type:n.data_type}},c=new o.default(s,this._connection,this._emitter);return delete c.onChange,c},e.prototype.onSave=function(e){if(!e||"function"!=typeof e)throw Error("Callback must be a function");this._emitter.on("entrySave",(function(t){e(t.data)}))},e.prototype.onChange=function(e){if(!e||"function"!=typeof e)throw Error("Callback must be a function");this._emitter.on("entryChange",(function(t){e(t.data)}))},e.prototype.onPublish=function(e){if(!e||"function"!=typeof e)throw Error("Callback must be a function");this._emitter.on("entryPublish",(function(t){e(t.data)}))},e.prototype.onUnPublish=function(e){if(!e||"function"!=typeof e)throw Error("Callback must be a function");this._emitter.on("entryUnPublish",(function(t){e(t.data)}))},e}();t.default=i},function(e,t,r){"use strict";function n(e){return Promise.reject(e)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e){this._connection=e}return e.prototype.get=function(e){if(!e||"string"!=typeof e)throw new Error("Kindly provide valid parameters");return this._connection.sendToParent("store",{action:"get",key:e}).then((function(e){return Promise.resolve(e.data)})).catch(n)},e.prototype.getAll=function(){return this._connection.sendToParent("store",{action:"getAll"}).then((function(e){var t=e.data,r=void 0===t?{}:t;return Promise.resolve(r)})).catch(n)},e.prototype.set=function(e,t){if(!e||!t||"string"!=typeof e)throw new Error("Kindly provide valid parameters");return this._connection.sendToParent("store",{action:"set",key:e,value:t}).then((function(){return Promise.resolve(!0)})).catch(n)},e.prototype.remove=function(e){if(!e||"string"!=typeof e)throw new Error("Kindly provide valid parameters");return this._connection.sendToParent("store",{action:"remove",key:e}).then((function(){return Promise.resolve(!0)})).catch(n)},e.prototype.clear=function(){return this._connection.sendToParent("store",{action:"clear"}).then((function(){return Promise.resolve(!0)})).catch(n)},e}();t.default=o},function(e,t,r){var n;!function(t){"use strict";function o(){}var i=o.prototype,a=t.EventEmitter;function s(e,t){for(var r=e.length;r--;)if(e[r].listener===t)return r;return-1}function c(e){return function(){return this[e].apply(this,arguments)}}i.getListeners=function(e){var t,r,n=this._getEvents();if(e instanceof RegExp)for(r in t={},n)n.hasOwnProperty(r)&&e.test(r)&&(t[r]=n[r]);else t=n[e]||(n[e]=[]);return t},i.flattenListeners=function(e){var t,r=[];for(t=0;t<e.length;t+=1)r.push(e[t].listener);return r},i.getListenersAsObject=function(e){var t,r=this.getListeners(e);return r instanceof Array&&((t={})[e]=r),t||r},i.addListener=function(e,t){if(!function e(t){return"function"==typeof t||t instanceof RegExp||!(!t||"object"!=typeof t)&&e(t.listener)}(t))throw new TypeError("listener must be a function");var r,n=this.getListenersAsObject(e),o="object"==typeof t;for(r in n)n.hasOwnProperty(r)&&-1===s(n[r],t)&&n[r].push(o?t:{listener:t,once:!1});return this},i.on=c("addListener"),i.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},i.once=c("addOnceListener"),i.defineEvent=function(e){return this.getListeners(e),this},i.defineEvents=function(e){for(var t=0;t<e.length;t+=1)this.defineEvent(e[t]);return this},i.removeListener=function(e,t){var r,n,o=this.getListenersAsObject(e);for(n in o)o.hasOwnProperty(n)&&-1!==(r=s(o[n],t))&&o[n].splice(r,1);return this},i.off=c("removeListener"),i.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},i.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},i.manipulateListeners=function(e,t,r){var n,o,i=e?this.removeListener:this.addListener,a=e?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(n=r.length;n--;)i.call(this,t,r[n]);else for(n in t)t.hasOwnProperty(n)&&(o=t[n])&&("function"==typeof o?i.call(this,n,o):a.call(this,n,o));return this},i.removeEvent=function(e){var t,r=typeof e,n=this._getEvents();if("string"===r)delete n[e];else if(e instanceof RegExp)for(t in n)n.hasOwnProperty(t)&&e.test(t)&&delete n[t];else delete this._events;return this},i.removeAllListeners=c("removeEvent"),i.emitEvent=function(e,t){var r,n,o,i,a=this.getListenersAsObject(e);for(i in a)if(a.hasOwnProperty(i))for(r=a[i].slice(0),o=0;o<r.length;o++)!0===(n=r[o]).once&&this.removeListener(e,n.listener),n.listener.apply(this,t||[])===this._getOnceReturnValue()&&this.removeListener(e,n.listener);return this},i.trigger=c("emitEvent"),i.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},i.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},i._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},i._getEvents=function(){return this._events||(this._events={})},o.noConflict=function(){return t.EventEmitter=a,o},void 0===(n=function(){return o}.call(t,r,t,e))||(e.exports=n)}(this||{})},function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.rtePluginInitializer=t.RTEPlugin=void 0;var o=function(e){var t=this;this.isContainer=!1,this.addPlugins=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];if(t.pluginMetaData.meta.isDependent)throw Error("cannot have another container inside");t.isContainer=!0,e.forEach((function(e){if(e.isContainer)throw Error("cannot have another container inside");e.pluginMetaData.registry.category=t.pluginMetaData.meta.id,t.containerMetaData.meta.dependentPlugins.push(e),e.pluginMetaData.meta.isDependent=!0}))},this.on=function(e,r){switch(e){case"beforeChildRender":t.pluginMetaData.registry.beforeChildrenRender=r;break;case"beforeRender":t.pluginMetaData.registry.beforeElementRender=r;break;case"exec":t.pluginMetaData.registry.handleMouseDown=r;break;case"paste":case"deleteBackward":case"deleteForward":case"insertBreak":case"normalize":t.pluginMetaData.meta.editorCallbacks[e]=r}},this.get=function(){return t.isContainer?t.containerMetaData:t.pluginMetaData},this.pluginMetaData=e,this.containerMetaData={registry:{id:this.pluginMetaData.meta.id,title:this.pluginMetaData.registry.title,rootCategory:!1,toolbar:n({},this.pluginMetaData.registry.toolbar)},meta:{id:this.pluginMetaData.meta.id,dependentPlugins:[]}}};t.RTEPlugin=o,t.rtePluginInitializer=function(e,t,r){if(!(e&&t&&r))throw Error("i am an error");var n={registry:{title:t,toolbar:{inMainToolbar:!0,inHoveringToolbar:!0},dndOptions:{},isContentstackElement:!0},meta:{id:e,elementType:null,editorCallbacks:{},isDependent:!1}};return Object.entries(r).forEach((function(e){var t=e[0],r=e[1];switch(t){case"iconName":n.registry.iconName=r;break;case"displayOn":if(n.registry.toolbar={inHoveringToolbar:!1,inMainToolbar:!1},"string"==typeof r)switch(r){case"toolbar":n.registry.toolbar.inMainToolbar=!0;break;case"hoveringToolbar":n.registry.toolbar.inHoveringToolbar=!0}else Array.isArray(r)&&r.forEach((function(e){switch(e){case"toolbar":n.registry.toolbar.inMainToolbar=!0;break;case"hoveringToolbar":n.registry.toolbar.inHoveringToolbar=!0}}));break;case"elementType":n.meta.elementType=r;break;case"dnd":"object"!=typeof r||Array.isArray(r)||(void 0===n.registry.dndOptions&&(n.registry.dndOptions={DisableDND:!1}),Object.entries(r).forEach((function(e){var t=e[0],r=e[1];switch(t){case"disable":n.registry.dndOptions.DisableDND=r;break;case"hideSelectionBackground":n.registry.dndOptions.DisableSelectionHalo=r;break;case"icon":n.registry.dndOptions.CustomDndIcon=r;break;case"className":n.registry.dndOptions.ContainerClassName=r;break;case"droppableContainer":n.registry.dndOptions.getDroppableContainer=r;break;case"disableColumnLayout":n.registry.dndOptions.DisableGridDnd=r}})));break;case"Component":n.registry.Component=r}})),new o(n)}},function(e){e.exports=JSON.parse('{"name":"contentstack-app-framework-sdk","version":"1.0.0","types":"dist/src/index.d.ts","description":"This SDK helps connect to the development server of the Contentstack and sync the data.","main":"dist/index.js","scripts":{"build":"webpack","test":"echo \\"Error: no test specified\\" && exit 1","dev":"webpack --watch --mode development"},"keywords":[],"author":"Deepak Kharah","license":"MIT","devDependencies":{"@babel/core":"^7.2.2","@babel/preset-env":"^7.3.1","@types/post-robot":"^10.0.3","@types/react":"^17.0.18","babel-loader":"^8.0.5","css-loader":"^5.2.2","ts-loader":"^8.1.0","typescript":"^4.2.4","webpack":"^4.29.0","webpack-cli":"^3.2.1","webpack-dev-server":"^3.11.2"},"dependencies":{"post-robot":"8.0.29","wolfy87-eventemitter":"5.2.4"}}')}])},function(e,t,r){var n=r(4);e.exports=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,n(e,t)},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){function r(t,n){return e.exports=r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},e.exports.default=e.exports,e.exports.__esModule=!0,r(t,n)}e.exports=r,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,r){"use strict";function n(e,t){return(Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}r.r(t);var o=r(0),i=r.n(o);var a=function(){function e(e){this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.before=null}var t=e.prototype;return t.insert=function(e){if(this.ctr%(this.isSpeedy?65e3:1)==0){var t,r=function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t}(this);t=0===this.tags.length?this.before:this.tags[this.tags.length-1].nextSibling,this.container.insertBefore(r,t),this.tags.push(r)}var n=this.tags[this.tags.length-1];if(this.isSpeedy){var o=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(n);try{var i=105===e.charCodeAt(1)&&64===e.charCodeAt(0);o.insertRule(e,i?0:o.cssRules.length)}catch(e){0}}else n.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}();var s=function(e){function t(e,n,c,u,l){for(var h,p,y,m,g,E=0,O=0,S=0,A=0,P=0,x=0,M=y=h=0,I=0,W=0,q=0,N=0,G=c.length,U=G-1,F="",H="",z="",B="";I<G;){if(p=c.charCodeAt(I),I===U&&0!==O+A+S+E&&(0!==O&&(p=47===O?10:47),A=S=E=0,G++,U++),0===O+A+S+E){if(I===U&&(0<W&&(F=F.replace(d,"")),0<F.trim().length)){switch(p){case 32:case 9:case 59:case 13:case 10:break;default:F+=c.charAt(I)}p=59}switch(p){case 123:for(h=(F=F.trim()).charCodeAt(0),y=1,N=++I;I<G;){switch(p=c.charCodeAt(I)){case 123:y++;break;case 125:y--;break;case 47:switch(p=c.charCodeAt(I+1)){case 42:case 47:e:{for(M=I+1;M<U;++M)switch(c.charCodeAt(M)){case 47:if(42===p&&42===c.charCodeAt(M-1)&&I+2!==M){I=M+1;break e}break;case 10:if(47===p){I=M+1;break e}}I=M}}break;case 91:p++;case 40:p++;case 34:case 39:for(;I++<U&&c.charCodeAt(I)!==p;);}if(0===y)break;I++}switch(y=c.substring(N,I),0===h&&(h=(F=F.replace(f,"").trim()).charCodeAt(0)),h){case 64:switch(0<W&&(F=F.replace(d,"")),p=F.charCodeAt(1)){case 100:case 109:case 115:case 45:W=n;break;default:W=R}if(N=(y=t(n,W,y,p,l+1)).length,0<D&&(g=s(3,y,W=r(R,F,q),n,C,T,N,p,l,u),F=W.join(""),void 0!==g&&0===(N=(y=g.trim()).length)&&(p=0,y="")),0<N)switch(p){case 115:F=F.replace(b,a);case 100:case 109:case 45:y=F+"{"+y+"}";break;case 107:y=(F=F.replace(v,"$1 $2"))+"{"+y+"}",y=1===k||2===k&&i("@"+y,3)?"@-webkit-"+y+"@"+y:"@"+y;break;default:y=F+y,112===u&&(H+=y,y="")}else y="";break;default:y=t(n,r(n,F,q),y,u,l+1)}z+=y,y=q=W=M=h=0,F="",p=c.charCodeAt(++I);break;case 125:case 59:if(1<(N=(F=(0<W?F.replace(d,""):F).trim()).length))switch(0===M&&(h=F.charCodeAt(0),45===h||96<h&&123>h)&&(N=(F=F.replace(" ",":")).length),0<D&&void 0!==(g=s(1,F,n,e,C,T,H.length,u,l,u))&&0===(N=(F=g.trim()).length)&&(F="\0\0"),h=F.charCodeAt(0),p=F.charCodeAt(1),h){case 0:break;case 64:if(105===p||99===p){B+=F+c.charAt(I);break}default:58!==F.charCodeAt(N-1)&&(H+=o(F,h,p,F.charCodeAt(2)))}q=W=M=h=0,F="",p=c.charCodeAt(++I)}}switch(p){case 13:case 10:47===O?O=0:0===1+h&&107!==u&&0<F.length&&(W=1,F+="\0"),0<D*L&&s(0,F,n,e,C,T,H.length,u,l,u),T=1,C++;break;case 59:case 125:if(0===O+A+S+E){T++;break}default:switch(T++,m=c.charAt(I),p){case 9:case 32:if(0===A+E+O)switch(P){case 44:case 58:case 9:case 32:m="";break;default:32!==p&&(m=" ")}break;case 0:m="\\0";break;case 12:m="\\f";break;case 11:m="\\v";break;case 38:0===A+O+E&&(W=q=1,m="\f"+m);break;case 108:if(0===A+O+E+j&&0<M)switch(I-M){case 2:112===P&&58===c.charCodeAt(I-3)&&(j=P);case 8:111===x&&(j=x)}break;case 58:0===A+O+E&&(M=I);break;case 44:0===O+S+A+E&&(W=1,m+="\r");break;case 34:case 39:0===O&&(A=A===p?0:0===A?p:A);break;case 91:0===A+O+S&&E++;break;case 93:0===A+O+S&&E--;break;case 41:0===A+O+E&&S--;break;case 40:if(0===A+O+E){if(0===h)switch(2*P+3*x){case 533:break;default:h=1}S++}break;case 64:0===O+S+A+E+M+y&&(y=1);break;case 42:case 47:if(!(0<A+E+S))switch(O){case 0:switch(2*p+3*c.charCodeAt(I+1)){case 235:O=47;break;case 220:N=I,O=42}break;case 42:47===p&&42===P&&N+2!==I&&(33===c.charCodeAt(N+2)&&(H+=c.substring(N,I+1)),m="",O=0)}}0===O&&(F+=m)}x=P,P=p,I++}if(0<(N=H.length)){if(W=n,0<D&&(void 0!==(g=s(2,H,W,e,C,T,N,u,l,u))&&0===(H=g).length))return B+H+z;if(H=W.join(",")+"{"+H+"}",0!=k*j){switch(2!==k||i(H,2)||(j=0),j){case 111:H=H.replace(w,":-moz-$1")+H;break;case 112:H=H.replace(_,"::-webkit-input-$1")+H.replace(_,"::-moz-$1")+H.replace(_,":-ms-input-$1")+H}j=0}}return B+H+z}function r(e,t,r){var o=t.trim().split(y);t=o;var i=o.length,a=e.length;switch(a){case 0:case 1:var s=0;for(e=0===a?"":e[0]+" ";s<i;++s)t[s]=n(e,t[s],r).trim();break;default:var c=s=0;for(t=[];s<i;++s)for(var u=0;u<a;++u)t[c++]=n(e[u]+" ",o[s],r).trim()}return t}function n(e,t,r){var n=t.charCodeAt(0);switch(33>n&&(n=(t=t.trim()).charCodeAt(0)),n){case 38:return t.replace(m,"$1"+e.trim());case 58:return e.trim()+t.replace(m,"$1"+e.trim());default:if(0<1*r&&0<t.indexOf("\f"))return t.replace(m,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function o(e,t,r,n){var a=e+";",s=2*t+3*r+4*n;if(944===s){e=a.indexOf(":",9)+1;var c=a.substring(e,a.length-1).trim();return c=a.substring(0,e).trim()+c+";",1===k||2===k&&i(c,1)?"-webkit-"+c+c:c}if(0===k||2===k&&!i(a,1))return a;switch(s){case 1015:return 97===a.charCodeAt(10)?"-webkit-"+a+a:a;case 951:return 116===a.charCodeAt(3)?"-webkit-"+a+a:a;case 963:return 110===a.charCodeAt(5)?"-webkit-"+a+a:a;case 1009:if(100!==a.charCodeAt(4))break;case 969:case 942:return"-webkit-"+a+a;case 978:return"-webkit-"+a+"-moz-"+a+a;case 1019:case 983:return"-webkit-"+a+"-moz-"+a+"-ms-"+a+a;case 883:if(45===a.charCodeAt(8))return"-webkit-"+a+a;if(0<a.indexOf("image-set(",11))return a.replace(P,"$1-webkit-$2")+a;break;case 932:if(45===a.charCodeAt(4))switch(a.charCodeAt(5)){case 103:return"-webkit-box-"+a.replace("-grow","")+"-webkit-"+a+"-ms-"+a.replace("grow","positive")+a;case 115:return"-webkit-"+a+"-ms-"+a.replace("shrink","negative")+a;case 98:return"-webkit-"+a+"-ms-"+a.replace("basis","preferred-size")+a}return"-webkit-"+a+"-ms-"+a+a;case 964:return"-webkit-"+a+"-ms-flex-"+a+a;case 1023:if(99!==a.charCodeAt(8))break;return"-webkit-box-pack"+(c=a.substring(a.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+a+"-ms-flex-pack"+c+a;case 1005:return h.test(a)?a.replace(l,":-webkit-")+a.replace(l,":-moz-")+a:a;case 1e3:switch(t=(c=a.substring(13).trim()).indexOf("-")+1,c.charCodeAt(0)+c.charCodeAt(t)){case 226:c=a.replace(g,"tb");break;case 232:c=a.replace(g,"tb-rl");break;case 220:c=a.replace(g,"lr");break;default:return a}return"-webkit-"+a+"-ms-"+c+a;case 1017:if(-1===a.indexOf("sticky",9))break;case 975:switch(t=(a=e).length-10,s=(c=(33===a.charCodeAt(t)?a.substring(0,t):a).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|c.charCodeAt(7))){case 203:if(111>c.charCodeAt(8))break;case 115:a=a.replace(c,"-webkit-"+c)+";"+a;break;case 207:case 102:a=a.replace(c,"-webkit-"+(102<s?"inline-":"")+"box")+";"+a.replace(c,"-webkit-"+c)+";"+a.replace(c,"-ms-"+c+"box")+";"+a}return a+";";case 938:if(45===a.charCodeAt(5))switch(a.charCodeAt(6)){case 105:return c=a.replace("-items",""),"-webkit-"+a+"-webkit-box-"+c+"-ms-flex-"+c+a;case 115:return"-webkit-"+a+"-ms-flex-item-"+a.replace(O,"")+a;default:return"-webkit-"+a+"-ms-flex-line-pack"+a.replace("align-content","").replace(O,"")+a}break;case 973:case 989:if(45!==a.charCodeAt(3)||122===a.charCodeAt(4))break;case 931:case 953:if(!0===A.test(e))return 115===(c=e.substring(e.indexOf(":")+1)).charCodeAt(0)?o(e.replace("stretch","fill-available"),t,r,n).replace(":fill-available",":stretch"):a.replace(c,"-webkit-"+c)+a.replace(c,"-moz-"+c.replace("fill-",""))+a;break;case 962:if(a="-webkit-"+a+(102===a.charCodeAt(5)?"-ms-"+a:"")+a,211===r+n&&105===a.charCodeAt(13)&&0<a.indexOf("transform",10))return a.substring(0,a.indexOf(";",27)+1).replace(p,"$1-webkit-$2")+a}return a}function i(e,t){var r=e.indexOf(1===t?":":"{"),n=e.substring(0,3!==t?r:10);return r=e.substring(r+1,e.length-1),M(2!==t?n:n.replace(S,"$1"),r,t)}function a(e,t){var r=o(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return r!==t+";"?r.replace(E," or ($1)").substring(4):"("+t+")"}function s(e,t,r,n,o,i,a,s,c,f){for(var d,l=0,h=t;l<D;++l)switch(d=x[l].call(u,e,h,r,n,o,i,a,s,c,f)){case void 0:case!1:case!0:case null:break;default:h=d}if(h!==t)return h}function c(e){return void 0!==(e=e.prefix)&&(M=null,e?"function"!=typeof e?k=1:(k=2,M=e):k=0),c}function u(e,r){var n=e;if(33>n.charCodeAt(0)&&(n=n.trim()),n=[n],0<D){var o=s(-1,r,n,n,C,T,0,0,0,0);void 0!==o&&"string"==typeof o&&(r=o)}var i=t(R,n,r,0,0);return 0<D&&(void 0!==(o=s(-2,i,n,n,C,T,i.length,0,0,0))&&(i=o)),"",j=0,T=C=1,i}var f=/^\0+/g,d=/[\0\r\f]/g,l=/: */g,h=/zoo|gra/,p=/([,: ])(transform)/g,y=/,\r+?/g,m=/([\t\r\n ])*\f?&/g,v=/@(k\w+)\s*(\S*)\s*/,_=/::(place)/g,w=/:(read-only)/g,g=/[svh]\w+-[tblr]{2}/,b=/\(\s*(.*)\s*\)/g,E=/([\s\S]*?);/g,O=/-self|flex-/g,S=/[^]*?(:[rp][el]a[\w-]+)[^]*/,A=/stretch|:\s*\w+\-(?:conte|avail)/,P=/([^-])(image-set\()/,T=1,C=1,j=0,k=1,R=[],x=[],D=0,M=null,L=0;return u.use=function e(t){switch(t){case void 0:case null:D=x.length=0;break;default:if("function"==typeof t)x[D++]=t;else if("object"==typeof t)for(var r=0,n=t.length;r<n;++r)e(t[r]);else L=0|!!t}return e},u.set=c,void 0!==e&&c(e),u},c="/*|*/";function u(e){e&&f.current.insert(e+"}")}var f={current:null},d=function(e,t,r,n,o,i,a,s,d,l){switch(e){case 1:switch(t.charCodeAt(0)){case 64:return f.current.insert(t+";"),"";case 108:if(98===t.charCodeAt(2))return""}break;case 2:if(0===s)return t+c;break;case 3:switch(s){case 102:case 112:return f.current.insert(r[0]+t),"";default:return t+(0===l?c:"")}case-2:t.split("/*|*/}").forEach(u)}},l=function(e){void 0===e&&(e={});var t,r=e.key||"css";void 0!==e.prefix&&(t={prefix:e.prefix});var n=new s(t);var o,i={};o=e.container||document.head;var c,u=document.querySelectorAll("style[data-emotion-"+r+"]");Array.prototype.forEach.call(u,(function(e){e.getAttribute("data-emotion-"+r).split(" ").forEach((function(e){i[e]=!0})),e.parentNode!==o&&o.appendChild(e)})),n.use(e.stylisPlugins)(d),c=function(e,t,r,o){var i=t.name;f.current=r,n(e,t.styles),o&&(l.inserted[i]=!0)};var l={key:r,sheet:new a({key:r,container:o,nonce:e.nonce,speedy:e.speedy}),nonce:e.nonce,inserted:i,registered:{},insert:c};return l};r(3);function h(e,t,r){var n="";return r.split(" ").forEach((function(r){void 0!==e[r]?t.push(e[r]):n+=r+" "})),n}var p=function(e,t,r){var n=e.key+"-"+t.name;if(!1===r&&void 0===e.registered[n]&&(e.registered[n]=t.styles),void 0===e.inserted[t.name]){var o=t;do{e.insert("."+n,o,e.sheet,!0);o=o.next}while(void 0!==o)}};var y=function(e){for(var t,r=0,n=0,o=e.length;o>=4;++n,o-=4)t=1540483477*(65535&(t=255&e.charCodeAt(n)|(255&e.charCodeAt(++n))<<8|(255&e.charCodeAt(++n))<<16|(255&e.charCodeAt(++n))<<24))+(59797*(t>>>16)<<16),r=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&r)+(59797*(r>>>16)<<16);switch(o){case 3:r^=(255&e.charCodeAt(n+2))<<16;case 2:r^=(255&e.charCodeAt(n+1))<<8;case 1:r=1540483477*(65535&(r^=255&e.charCodeAt(n)))+(59797*(r>>>16)<<16)}return(((r=1540483477*(65535&(r^=r>>>13))+(59797*(r>>>16)<<16))^r>>>15)>>>0).toString(36)},m={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var v=/[A-Z]|^ms/g,_=/_EMO_([^_]+?)_([^]*?)_EMO_/g,w=function(e){return 45===e.charCodeAt(1)},g=function(e){return null!=e&&"boolean"!=typeof e},b=function(e){var t={};return function(r){return void 0===t[r]&&(t[r]=e(r)),t[r]}}((function(e){return w(e)?e:e.replace(v,"-$&").toLowerCase()})),E=function(e,t){switch(e){case"animation":case"animationName":if("string"==typeof t)return t.replace(_,(function(e,t,r){return S={name:t,styles:r,next:S},t}))}return 1===m[e]||w(e)||"number"!=typeof t||0===t?t:t+"px"};function O(e,t,r,n){if(null==r)return"";if(void 0!==r.__emotion_styles)return r;switch(typeof r){case"boolean":return"";case"object":if(1===r.anim)return S={name:r.name,styles:r.styles,next:S},r.name;if(void 0!==r.styles){var o=r.next;if(void 0!==o)for(;void 0!==o;)S={name:o.name,styles:o.styles,next:S},o=o.next;return r.styles+";"}return function(e,t,r){var n="";if(Array.isArray(r))for(var o=0;o<r.length;o++)n+=O(e,t,r[o],!1);else for(var i in r){var a=r[i];if("object"!=typeof a)null!=t&&void 0!==t[a]?n+=i+"{"+t[a]+"}":g(a)&&(n+=b(i)+":"+E(i,a)+";");else if(!Array.isArray(a)||"string"!=typeof a[0]||null!=t&&void 0!==t[a[0]]){var s=O(e,t,a,!1);switch(i){case"animation":case"animationName":n+=b(i)+":"+s+";";break;default:n+=i+"{"+s+"}"}}else for(var c=0;c<a.length;c++)g(a[c])&&(n+=b(i)+":"+E(i,a[c])+";")}return n}(e,t,r);case"function":if(void 0!==e){var i=S,a=r(e);return S=i,O(e,t,a,n)}break;case"string":}if(null==t)return r;var s=t[r];return void 0===s||n?r:s}var S,A=/label:\s*([^\s;\n{]+)\s*;/g;var P=function(e,t,r){if(1===e.length&&"object"==typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var n=!0,o="";S=void 0;var i=e[0];null==i||void 0===i.raw?(n=!1,o+=O(r,t,i,!1)):o+=i[0];for(var a=1;a<e.length;a++)o+=O(r,t,e[a],46===o.charCodeAt(o.length-1)),n&&(o+=i[a]);A.lastIndex=0;for(var s,c="";null!==(s=A.exec(o));)c+="-"+s[1];return{name:y(o)+c,styles:o,next:S}},T=Object.prototype.hasOwnProperty,C=Object(o.createContext)("undefined"!=typeof HTMLElement?l():null),j=Object(o.createContext)({}),k=(C.Provider,function(e){var t=function(t,r){return Object(o.createElement)(C.Consumer,null,(function(n){return e(t,n,r)}))};return Object(o.forwardRef)(t)}),R="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",x=function(e,t){var r={};for(var n in t)T.call(t,n)&&(r[n]=t[n]);return r[R]=e,r},D=function(e,t,r,n){var i=null===r?t.css:t.css(r);"string"==typeof i&&void 0!==e.registered[i]&&(i=e.registered[i]);var a=t[R],s=[i],c="";"string"==typeof t.className?c=h(e.registered,s,t.className):null!=t.className&&(c=t.className+" ");var u=P(s);p(e,u,"string"==typeof a);c+=e.key+"-"+u.name;var f={};for(var d in t)T.call(t,d)&&"css"!==d&&d!==R&&(f[d]=t[d]);return f.ref=n,f.className=c,Object(o.createElement)(a,f)},M=k((function(e,t,r){return"function"==typeof e.css?Object(o.createElement)(j.Consumer,null,(function(n){return D(t,e,n,r)})):D(t,e,null,r)}));var L=function(e,t){var r=arguments;if(null==t||!T.call(t,"css"))return o.createElement.apply(void 0,r);var n=r.length,i=new Array(n);i[0]=M,i[1]=x(e,t);for(var a=2;a<n;a++)i[a]=r[a];return o.createElement.apply(null,i)},I=(o.Component,function e(t){for(var r=t.length,n=0,o="";n<r;n++){var i=t[n];if(null!=i){var a=void 0;switch(typeof i){case"boolean":break;case"object":if(Array.isArray(i))a=e(i);else for(var s in a="",i)i[s]&&s&&(a&&(a+=" "),a+=s);break;default:a=i}a&&(o&&(o+=" "),o+=a)}}return o});function W(e,t,r){var n=[],o=h(e,n,r);return n.length<2?r:o+t(n)}k((function(e,t){return Object(o.createElement)(j.Consumer,null,(function(r){var n=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var o=P(r,t.registered);return p(t,o,!1),t.key+"-"+o.name},o={css:n,cx:function(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return W(t.registered,n,I(r))},theme:r},i=e.children(o);return!0,i}))}));var q=r(2),N=r.n(q),G=r(1),U=i.a.createElement(G.Icon,{icon:"SocialEmbed"}),F=function(e){return i.a.createElement("iframe",{style:{width:"100%",height:"250px"},contentEditable:!1,src:e.url,allowFullScreen:!0,frameBorder:0})};function H(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,i=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return z(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return z(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var B=[],K=function(e){var t=e.id,r=e.parentClass,n=H(Object(o.useState)(!0),2),a=n[0],s=n[1],c=encodeURIComponent(t),u=Object(o.useRef)(),f=function(){var e=u.current;window.twttr.widgets.createTweetEmbed(c,e)};return Object(o.useEffect)((function(){window.twttr?f():function(e,t){if(0===B.length){B.push(t);var r=document.createElement("script");r.setAttribute("src",e),r.onload=function(){return B.forEach((function(e){return e()}))},document.body.appendChild(r)}else B.push(t)}("https://platform.twitter.com/widgets.js",f);addEventListener("message",(function e(t){var r,n,o="twttr.private.rendered"===(null==t||null===(r=t.data)||void 0===r||null===(n=r["twttr.embed"])||void 0===n?void 0:n.method),i=o&&t.data["twttr.embed"].params[0].data.tweet_id===c;o&&i&&(s(!1),removeEventListener("message",e))}))}),[]),i.a.createElement(o.Fragment,null,a&&i.a.createElement(G.SkeletonTile,{numberOfTiles:1,tileHeight:150,tileWidth:500}),i.a.createElement("div",{className:"".concat(r),ref:u}))},Q=function(e){var t=e.attributes,r=e.attrs,n=e.children,o=(e.rte,{Youtube:F,Twitter:K}),a=function(e){var t=e.match(/(?:youtube\.com\/(?:[^\/]+\/.+\/|(?:v|e(?:mbed)?)\/|.*[?&]v=)|youtu\.be\/)([^"&?\/ ]{11})/i);if(t)return{type:"Youtube",props:{url:"https://www.youtube.com/embed/".concat(t[1])}};var r=e.match(/(?:twitter\.com\/[^\/]+\/status(?:es)?\/)([0-9]+)/i);return r?{type:"Twitter",props:{id:r[1]}}:{type:"iframe",props:{url:e}}}(r.url),s=o[a.type];return i.a.createElement("div",Object.assign({},r,t,{style:{width:"100%"}}),i.a.createElement(s,Object.assign({},a.props)),n)};function $(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,i=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Y(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var J=function(e){var t=$(Object(o.useState)(""),2),r=t[0],n=t[1],a=e.rte,s=function(t){t.preventDefault(),a.insertNode({type:"social-embed",attrs:{url:r},children:[{text:""}]},{at:e.savedSelection}),e.closeModal()};return i.a.createElement(o.Fragment,null,i.a.createElement(G.ModalHeader,{title:"Social Media Embed",closeModal:e.closeModal}),i.a.createElement(G.ModalBody,null,i.a.createElement("form",{onSubmit:s},i.a.createElement(G.Field,{labelText:"Video Embed Code or Youtube/Vimeo Link"},i.a.createElement(G.TextInput,{autoFocus:!0,name:"embeded_url",placeholder:"Enter Embeded url",type:"url",value:r,onChange:function(e){return n(e.target.value)}})),i.a.createElement("div",{style:{textAlign:"right"}}))),i.a.createElement(G.ModalFooter,null,i.a.createElement(G.ButtonGroup,null,i.a.createElement(G.Button,{key:"cancel",buttonType:"light",onClick:e.closeModal},"Cancel"),i.a.createElement(G.Button,{key:"add",icon:"CheckedWhite",onClick:s},"Add"))))};function Z(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}t.default=N.a.init().then(function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var r,n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.Extension;case 2:return r=e.sent,e.next=5,r.RTEPlugin;case 5:return n=e.sent,(o=n("social-embed","Social Embed",{iconName:U,Component:Q,elementType:["block","void"],displayOn:["toolbar"]})).on("exec",(function(e){var t=e.selection.get();Object(G.cbModal)({component:function(r){return L(J,Object.assign({savedSelection:t,rte:e},r))},modalProps:{shouldReturnFocusAfterClose:!1}})})),e.abrupt("return",{SocialEmbedPlugin:o});case 9:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){Z(i,n,o,a,s,"next",e)}function s(e){Z(i,n,o,a,s,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}())}]))}}}));